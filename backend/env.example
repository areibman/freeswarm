# Backend Server Configuration
# Copy this file to .env and update with your values

# ==========================================
# Server Configuration
# ==========================================
PORT=3001
NODE_ENV=development

# ==========================================
# GitHub App Configuration
# ==========================================
# Create a GitHub App at: https://github.com/settings/apps
GITHUB_APP_ID=your_github_app_id
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_WEBHOOK_SECRET=your_webhook_secret

# Optional: GitHub Personal Access Token (for simpler setup)
# If you don't want to create a GitHub App, you can use a PAT instead
# GITHUB_PERSONAL_ACCESS_TOKEN=your_github_pat

# ==========================================
# Database Configuration
# ==========================================
# SQLite database for caching and user data
DATABASE_URL=sqlite://./data/database.sqlite

# ==========================================
# Security Configuration
# ==========================================
# Generate a secure random string for JWT secret
# You can use: openssl rand -base64 32
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
JWT_EXPIRES_IN=7d

# ==========================================
# CORS Configuration
# ==========================================
# Frontend URL for CORS
FRONTEND_URL=http://localhost:3000

# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://freeswarm.lol

# ==========================================
# Rate Limiting Configuration
# ==========================================
# Time window in milliseconds (15 minutes = 900000)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=100

# ==========================================
# Cache Configuration
# ==========================================
# Cache TTL in seconds (5 minutes = 300)
CACHE_TTL_SECONDS=300

# Maximum cache size in MB
MAX_CACHE_SIZE_MB=100

# ==========================================
# WebSocket Configuration
# ==========================================
# Enable/disable WebSocket support
ENABLE_WEBSOCKET=true

# WebSocket ping interval in milliseconds
WS_PING_INTERVAL=30000

# ==========================================
# Logging Configuration
# ==========================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Log to file (in addition to console)
LOG_TO_FILE=false
LOG_FILE_PATH=./logs/backend.log

# ==========================================
# Deployment Configuration
# ==========================================
# VM provider: docker, vercel, netlify, custom
VM_PROVIDER=docker

# Base URL for deployments (used for Docker deployments)
DEPLOYMENT_BASE_URL=http://localhost

# Docker registry for custom images
DOCKER_REGISTRY=local

# ==========================================
# Optional: Advanced Configuration
# ==========================================
# GitHub API base URL (for GitHub Enterprise)
# GITHUB_API_URL=https://api.github.com

# Proxy configuration (if behind corporate proxy)
# HTTP_PROXY=http://proxy.example.com:8080
# HTTPS_PROXY=http://proxy.example.com:8080

# Custom user agent for GitHub API requests
# USER_AGENT=FreeSwarm-PR-Manager/1.0

# Enable debug mode for detailed logging
# DEBUG=true
